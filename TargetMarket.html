<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Target Market Profile</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }
        .card-option {
            transition: all 0.2s ease-in-out;
            cursor: pointer;
        }
        .card-option.selected {
            background-color: #d1fae5;
            border-color: #34d399;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .item-list {
            list-style: none;
            padding: 0;
            margin-top: 1rem;
        }
        .item-list li {
            background-color: #e5e7eb;
            padding: 0.5rem 0.75rem;
            border-radius: 0.5rem;
            margin-bottom: 0.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center p-4">

    <!-- Main Tool Container -->
    <div class="w-full max-w-2xl bg-white p-8 rounded-2xl shadow-xl transition-all duration-300 transform hover:shadow-2xl">
        <div class="text-center mb-6">
            <img src="https://i.postimg.cc/65Q7HK8j/blue-LOGO.png" alt="Solo Practice Logo" class="mx-auto h-40 mb-4 rounded-lg">
            <h1 class="text-4xl font-bold text-gray-800 mb-2">Target Market Profile</h1>
            <p class="text-gray-600">
                Build a detailed profile of your ideal client to focus your marketing.
            </p>
        </div>

        <div class="space-y-8">
            <!-- Section 1: Demographics -->
            <div>
                <h3 class="text-2xl font-bold mb-4 text-gray-800">Who are you going to serve?</h3>
                <div class="space-y-4">
                    <!-- Age Range -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">What is their approximate age range?</label>
                        <div id="demographics-age-options" class="grid grid-cols-2 sm:grid-cols-3 gap-2">
                            <div onclick="toggleDemographicItem(this, 'demographics-age', '18-24')" class="card-option bg-gray-50 p-3 rounded-lg border border-gray-200 text-center">
                                18-24
                            </div>
                            <div onclick="toggleDemographicItem(this, 'demographics-age', '25-34')" class="card-option bg-gray-50 p-3 rounded-lg border border-gray-200 text-center">
                                25-34
                            </div>
                            <div onclick="toggleDemographicItem(this, 'demographics-age', '35-44')" class="card-option bg-gray-50 p-3 rounded-lg border border-gray-200 text-center">
                                35-44
                            </div>
                            <div onclick="toggleDemographicItem(this, 'demographics-age', '45-54')" class="card-option bg-gray-50 p-3 rounded-lg border border-gray-200 text-center">
                                45-54
                            </div>
                            <div onclick="toggleDemographicItem(this, 'demographics-age', '55-64')" class="card-option bg-gray-50 p-3 rounded-lg border border-gray-200 text-center">
                                55-64
                            </div>
                            <div onclick="toggleDemographicItem(this, 'demographics-age', '65+')" class="card-option bg-gray-50 p-3 rounded-lg border border-gray-200 text-center">
                                65+
                            </div>
                            <div onclick="toggleOtherInput(this, 'demographics-age')" class="card-option bg-gray-50 p-3 rounded-lg border border-gray-200 text-center col-span-2 sm:col-span-1">
                                Other
                            </div>
                        </div>
                        <input type="text" id="demographics-age-other-input" placeholder="e.g., Teens" class="mt-2 w-full rounded-md border-gray-300 shadow-sm p-3 hidden">
                    </div>

                    <!-- Location -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Where can you find your ideal client?</label>
                        <div id="demographics-location-options" class="grid grid-cols-2 sm:grid-cols-3 gap-2">
                            <div onclick="toggleDemographicItem(this, 'demographics-location', 'In-person at their home/office')" class="card-option bg-gray-50 p-3 rounded-lg border border-gray-200 text-center">
                                In-person at their home/office
                            </div>
                            <div onclick="toggleDemographicItem(this, 'demographics-location', 'At a local gym or wellness studio')" class="card-option bg-gray-50 p-3 rounded-lg border border-gray-200 text-center">
                                At a local gym or wellness studio
                            </div>
                            <div onclick="toggleDemographicItem(this, 'demographics-location', 'Within a spa or salon setting')" class="card-option bg-gray-50 p-3 rounded-lg border border-gray-200 text-center">
                                Within a spa or salon setting
                            </div>
                            <div onclick="toggleDemographicItem(this, 'demographics-location', 'At specific events (e.g., fairs, expos)')" class="card-option bg-gray-50 p-3 rounded-lg border border-gray-200 text-center">
                                At specific events (e.g., fairs, expos)
                            </div>
                            <div onclick="toggleDemographicItem(this, 'demographics-location', 'Through online forums or social groups')" class="card-option bg-gray-50 p-3 rounded-lg border border-gray-200 text-center">
                                Through online forums or social groups
                            </div>
                            <div onclick="toggleDemographicItem(this, 'demographics-location', 'At a medical or wellness clinic')" class="card-option bg-gray-50 p-3 rounded-lg border border-gray-200 text-center">
                                At a medical or wellness clinic
                            </div>
                            <div onclick="toggleOtherInput(this, 'demographics-location')" class="card-option bg-gray-50 p-3 rounded-lg border border-gray-200 text-center col-span-2 sm:col-span-1">
                                Other
                            </div>
                        </div>
                        <input type="text" id="demographics-location-other-input" placeholder="e.g., Local Events, Cruise Ships" class="mt-2 w-full rounded-md border-gray-300 shadow-sm p-3 hidden">
                    </div>
                </div>
            </div>

            <!-- Section 2: Lifestyle & Hobbies -->
            <div>
                <h3 class="text-2xl font-bold mb-4 text-gray-800">What do they like to do?</h3>
                <label for="lifestyle-input" class="block text-sm font-medium text-gray-700 mb-2">What are their hobbies and interests?</label>
                <div class="flex space-x-2">
                    <input type="text" id="lifestyle-input" placeholder="e.g., enjoys yoga, busy social calendar" onkeydown="handleInput(event, 'lifestyle')" onblur="handleInput(event, 'lifestyle')" class="w-full rounded-md border-gray-300 shadow-sm p-3">
                    <button onclick="getIdeas('lifestyle')" class="bg-indigo-500 hover:bg-indigo-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-300 ease-in-out">Ideas</button>
                </div>
                <ul id="lifestyle-list" class="item-list"></ul>
                <div id="lifestyle-ideas-container" class="mt-2 grid grid-cols-1 sm:grid-cols-2 gap-2 hidden"></div>
            </div>
            
            <!-- Section 3: Pain Points -->
            <div>
                <h3 class="text-2xl font-bold mb-4 text-gray-800">What problems are they facing?</h3>
                <label for="pain-points-input" class="block text-sm font-medium text-gray-700 mb-2">What are their main problems or challenges?</label>
                <div class="flex space-x-2">
                    <input type="text" id="pain-points-input" placeholder="e.g., chronic back pain, tired skin" onkeydown="handleInput(event, 'pain-points')" onblur="handleInput(event, 'pain-points')" class="w-full rounded-md border-gray-300 shadow-sm p-3">
                    <button onclick="getIdeas('pain-points')" class="bg-indigo-500 hover:bg-indigo-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-300 ease-in-out">Ideas</button>
                </div>
                <ul id="pain-points-list" class="item-list"></ul>
                <div id="pain-points-ideas-container" class="mt-2 grid grid-cols-1 sm:grid-cols-2 gap-2 hidden"></div>
            </div>

            <!-- Section 4: Goals -->
            <div>
                <h3 class="text-2xl font-bold mb-4 text-gray-800">What do they hope to achieve?</h3>
                <label for="goals-input" class="block text-sm font-medium text-gray-700 mb-2">What are their goals and desires?</label>
                <div class="flex space-x-2">
                    <input type="text" id="goals-input" placeholder="e.g., glowing skin for an event, deep rest" onkeydown="handleInput(event, 'goals')" onblur="handleInput(event, 'goals')" class="w-full rounded-md border-gray-300 shadow-sm p-3">
                    <button onclick="getIdeas('goals')" class="bg-indigo-500 hover:bg-indigo-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-300 ease-in-out">Ideas</button>
                </div>
                <ul id="goals-list" class="item-list"></ul>
                <div id="goals-ideas-container" class="mt-2 grid grid-cols-1 sm:grid-cols-2 gap-2 hidden"></div>
            </div>
            
            <!-- Section 5: Information Sources -->
            <div>
                <h3 class="text-2xl font-bold mb-4 text-gray-800">Where can you reach them?</h3>
                <label for="info-sources-input" class="block text-sm font-medium text-gray-700 mb-2">Where do they look for information?</label>
                <div class="flex space-x-2">
                    <input type="text" id="info-sources-input" placeholder="e.g., Instagram, wellness podcasts" onkeydown="handleInput(event, 'info-sources')" onblur="handleInput(event, 'info-sources')" class="w-full rounded-md border-gray-300 shadow-sm p-3">
                    <button onclick="getIdeas('info-sources')" class="bg-indigo-500 hover:bg-indigo-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-300 ease-in-out">Ideas</button>
                </div>
                <ul id="info-sources-list" class="item-list"></ul>
                <div id="info-sources-ideas-container" class="mt-2 grid grid-cols-1 sm:grid-cols-2 gap-2 hidden"></div>
            </div>
        </div>

        <!-- Generate Profile Button -->
        <div class="w-full flex justify-center mt-8 mb-8">
            <button onclick="generateProfile()" class="bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white font-semibold py-3 px-8 rounded-full shadow-md transition-all duration-300 ease-in-out transform hover:scale-105">
                Generate My Profile
            </button>
        </div>

        <!-- Generated Profile Section -->
        <div id="generated-profile" class="mt-6 space-y-4 w-full hidden">
            <div class="p-6 rounded-2xl bg-white shadow-lg">
                <h2 class="text-2xl font-bold text-center mb-4 text-gray-800">Your Ideal Client Profile:</h2>
                <div class="p-4 rounded-lg bg-gradient-to-br from-green-50 to-blue-50 shadow-md">
                    <div id="profile-output" class="text-gray-700 space-y-4"></div>
                </div>
                <div class="mt-4 flex justify-center">
                    <button onclick="saveProfile()" class="bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-6 rounded-full shadow-md transition-all duration-300 ease-in-out transform hover:scale-105">
                        Save This Profile
                    </button>
                </div>
            </div>
        </div>

        <!-- Saved Profile Section -->
        <div id="saved-profile-section" class="mt-6 p-4 w-full bg-white rounded-lg shadow-inner hidden">
            <h2 class="text-xl font-bold text-center mb-4 text-gray-800">Your Saved Target Market Profile</h2>
            <div class="p-4 bg-gray-100 rounded-lg shadow-sm">
                <pre id="saved-profile-text" class="whitespace-pre-wrap text-sm text-gray-800 italic"></pre>
            </div>
            <div class="mt-4 flex justify-center">
                <button onclick="clearSavedProfile()" class="bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded-full shadow-md transition-all duration-300">
                    Clear Saved Profile
                </button>
            </div>
        </div>

        <!-- Status Message -->
        <p id="status-message" class="text-center mt-4 text-gray-500"></p>
    </div>

    <script>
        const profileData = {
            "demographics-age": [],
            "demographics-location": [],
            lifestyle: [],
            "pain-points": [],
            goals: [],
            "info-sources": []
        };
        
        // Define icons as inline SVG strings for each section
        const icons = {
            demographics: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 text-indigo-500"><path fill-rule="evenodd" d="M7.5 6a4.5 4.5 0 1 1 9 0a4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.438-.695Z" clip-rule="evenodd" /></svg>',
            lifestyle: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 text-indigo-500"><path d="M11.47 3.844a.75.75 0 0 0-.921 0L2.47 9.179a.75.75 0 0 0 0 1.141l8.08 5.4a.75.75 0 0 0 .921 0l8.08-5.4a.75.75 0 0 0 0-1.141L11.47 3.844Z" /><path d="m11.47 16.844a.75.75 0 0 0-.921 0L2.47 22.179a.75.75 0 0 0 0 1.141l8.08 5.4a.75.75 0 0 0 .921 0l8.08-5.4a.75.75 0 0 0 0-1.141l-8.08-5.4Z" /></svg>',
            painPoints: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 text-indigo-500"><path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75S17.385 21.75 12 21.75 2.25 17.385 2.25 12ZM12.75 9a.75.75 0 0 0-1.5 0v3.75a.75.75 0 0 0 .75.75h1.5a.75.75 0 0 0 0-1.5h-.75V9Z" clip-rule="evenodd" /></svg>',
            goals: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 text-indigo-500"><path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75S17.385 21.75 12 21.75 2.25 17.385 2.25 12Zm11.834-4.707a.75.75 0 0 0-1.06-1.06L9.414 10.5l-2.207-2.207a.75.75 0 0 0-1.06 1.06l2.75 2.75a.75.75 0 0 0 1.06 0l5.25-5.25Z" clip-rule="evenodd" /></svg>',
            infoSources: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 text-indigo-500"><path fill-rule="evenodd" d="M12 2.25a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM7.5 1.5a.75.75 0 0 0-.75.75V4.5a.75.75 0 0 0 1.5 0V2.25a.75.75 0 0 0-.75-.75Zm9 0a.75.75 0 0 0-.75.75V4.5a.75.75 0 0 0 1.5 0V2.25a.75.75 0 0 0-.75-.75ZM7.5 22.5a.75.75 0 0 0-.75.75V24a.75.75 0 0 0 1.5 0v-1.5a.75.75 0 0 0-.75-.75Zm9 0a.75.75 0 0 0-.75.75V24a.75.75 0 0 0 1.5 0v-1.5a.75.75 0 0 0-.75-.75ZM22.5 7.5a.75.75 0 0 0 .75-.75V6a.75.75 0 0 0-1.5 0v.75a.75.75 0 0 0 .75.75ZM22.5 16.5a.75.75 0 0 0 .75-.75v-1.5a.75.75 0 0 0-1.5 0v1.5a.75.75 0 0 0 .75.75ZM1.5 7.5a.75.75 0 0 0 .75-.75V6a.75.75 0 0 0-1.5 0v.75a.75.75 0 0 0 .75.75ZM1.5 16.5a.75.75 0 0 0 .75-.75v-1.5a.75.75 0 0 0-1.5 0v1.5a.75.75 0 0 0 .75.75ZM12 6a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5A.75.75 0 0 1 12 6Zm-3 3a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5A.75.75 0 0 1 9 9Zm6 0a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5a.75.75 0 0 1 .75-.75ZM12 15a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5a.75.75 0 0 1 .75-.75Zm-3 3a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5a.75.75 0 0 1 .75-.75Zm6 0a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5a.75.75 0 0 1 .75-.75Z" clip-rule="evenodd" /></svg>'
        };

        const predefinedIdeas = {
            lifestyle: [
                "Enjoys yoga or fitness classes",
                "Has a busy professional life",
                "A parent balancing work and family",
                "Prioritizes natural and organic products",
                "Loves to travel and explore new places"
            ],
            "pain-points": [
                "Chronic back or neck pain from a desk job",
                "Tired, dull, or acne-prone skin",
                "Feeling stressed and overwhelmed",
                "Lacks time for self-care",
                "Difficulty sleeping or relaxing"
            ],
            goals: [
                "To reduce stress and find relaxation",
                "To have glowing, healthy skin for an event",
                "To manage chronic pain and improve mobility",
                "To feel pampered and refreshed",
                "To improve skin health and combat aging"
            ],
            "info-sources": [
                "Instagram and TikTok",
                "Wellness and beauty blogs",
                "Local community groups (online or in-person)",
                "Wellness podcasts or YouTube channels",
                "Word-of-mouth recommendations"
            ]
        };

        const toggleDemographicItem = (element, fieldId, itemText) => {
            const index = profileData[fieldId].indexOf(itemText);
            if (index > -1) {
                profileData[fieldId].splice(index, 1);
                element.classList.remove('selected');
            } else {
                profileData[fieldId].push(itemText);
                element.classList.add('selected');
            }
        };

        const toggleOtherInput = (element, fieldId) => {
            const otherInput = document.getElementById(`${fieldId}-other-input`);
            if (element.classList.contains('selected')) {
                element.classList.remove('selected');
                otherInput.classList.add('hidden');
                const existingIndex = profileData[fieldId].indexOf(otherInput.value.trim());
                if (existingIndex > -1) {
                    profileData[fieldId].splice(existingIndex, 1);
                }
                otherInput.value = '';
            } else {
                element.classList.add('selected');
                otherInput.classList.remove('hidden');
                otherInput.focus();
            }

            otherInput.oninput = () => {
                const newValue = otherInput.value.trim();
                const existingIndex = profileData[fieldId].findIndex(item => item === otherInput.previousValue);
                if (existingIndex > -1) {
                    profileData[fieldId][existingIndex] = newValue;
                } else if (newValue) {
                    profileData[fieldId].push(newValue);
                }
                otherInput.previousValue = newValue;
            };
        };

        const handleInput = (event, fieldId) => {
            if (event.type === 'blur' || event.key === 'Enter') {
                const inputElement = event.target;
                const itemText = inputElement.value.trim();
                
                if (itemText && !profileData[fieldId].includes(itemText)) {
                    profileData[fieldId].push(itemText);
                    inputElement.value = '';
                    renderList(fieldId);
                }
            }
        };

        const removeItem = (fieldId, index) => {
            profileData[fieldId].splice(index, 1);
            renderList(fieldId);
        };

        const renderList = (fieldId) => {
            const listElement = document.getElementById(`${fieldId}-list`);
            listElement.innerHTML = '';
            profileData[fieldId].forEach((item, index) => {
                const li = document.createElement('li');
                li.innerHTML = `
                    <span>${item}</span>
                    <button onclick="removeItem('${fieldId}', ${index})" class="text-red-500 hover:text-red-700 font-bold ml-2">
                        &times;
                    </button>
                `;
                listElement.appendChild(li);
            });
        };

        const getIdeas = (fieldId) => {
            const ideasContainer = document.getElementById(`${fieldId}-ideas-container`);
            
            // If the container is already visible, hide it.
            if (!ideasContainer.classList.contains('hidden')) {
                ideasContainer.classList.add('hidden');
                return;
            }

            // Otherwise, show the container and populate it with ideas.
            ideasContainer.classList.remove('hidden');
            ideasContainer.innerHTML = '';
            
            const ideas = predefinedIdeas[fieldId];
            if (ideas) {
                ideas.forEach(item => {
                    const ideaDiv = document.createElement('div');
                    ideaDiv.classList.add('card-option', 'bg-gray-100', 'p-3', 'rounded-lg', 'border', 'border-gray-200', 'text-center', 'text-sm');
                    ideaDiv.textContent = item;
                    
                    // Add selected class if the item is already in the profileData
                    if (profileData[fieldId].includes(item)) {
                        ideaDiv.classList.add('selected');
                    }

                    ideaDiv.onclick = () => {
                        const index = profileData[fieldId].indexOf(item);
                        if (index > -1) {
                            profileData[fieldId].splice(index, 1);
                            ideaDiv.classList.remove('selected');
                        } else {
                            profileData[fieldId].push(item);
                            ideaDiv.classList.add('selected');
                        }
                        renderList(fieldId);
                    };
                    ideasContainer.appendChild(ideaDiv);
                });
            }
        };

        const generateProfile = () => {
            const outputDiv = document.getElementById('profile-output');
            outputDiv.innerHTML = '';

            const createSection = (title, dataArray, icon) => {
                const sectionDiv = document.createElement('div');
                sectionDiv.classList.add('space-y-2');
                
                const titleDiv = document.createElement('div');
                titleDiv.classList.add('flex', 'items-center', 'font-bold', 'text-lg', 'mb-2', 'text-gray-800');
                titleDiv.innerHTML = `${icon} <span class="ml-2">${title}</span>`;
                sectionDiv.appendChild(titleDiv);

                if (dataArray && dataArray.length > 0) {
                    const list = document.createElement('ul');
                    list.classList.add('list-inside', 'list-disc', 'space-y-1', 'text-sm', 'text-gray-600');
                    dataArray.forEach(item => {
                        const listItem = document.createElement('li');
                        listItem.textContent = item;
                        list.appendChild(listItem);
                    });
                    sectionDiv.appendChild(list);
                } else {
                    const noData = document.createElement('p');
                    noData.classList.add('text-sm', 'italic', 'text-gray-400');
                    noData.textContent = 'No data entered for this section.';
                    sectionDiv.appendChild(noData);
                }
                outputDiv.appendChild(sectionDiv);
            };

            // Demographics section
            const demoSectionDiv = document.createElement('div');
            demoSectionDiv.classList.add('space-y-2');
            const demoTitleDiv = document.createElement('div');
            demoTitleDiv.classList.add('flex', 'items-center', 'font-bold', 'text-lg', 'mb-2', 'text-gray-800');
            demoTitleDiv.innerHTML = `${icons.demographics} <span class="ml-2">Who are you going to serve?</span>`;
            demoSectionDiv.appendChild(demoTitleDiv);

            const ageList = document.createElement('ul');
            ageList.classList.add('list-inside', 'list-disc', 'space-y-1', 'text-sm', 'text-gray-600');
            const ageTitle = document.createElement('li');
            ageTitle.classList.add('font-medium', 'text-gray-800');
            ageTitle.textContent = 'Age Range:';
            ageList.appendChild(ageTitle);
            if (profileData["demographics-age"] && profileData["demographics-age"].length > 0) {
                profileData["demographics-age"].forEach(item => {
                    const li = document.createElement('li');
                    li.textContent = item;
                    ageList.appendChild(li);
                });
            } else {
                const li = document.createElement('li');
                li.classList.add('italic', 'text-gray-400');
                li.textContent = 'No data entered.';
                ageList.appendChild(li);
            }
            demoSectionDiv.appendChild(ageList);

            const locationList = document.createElement('ul');
            locationList.classList.add('list-inside', 'list-disc', 'space-y-1', 'text-sm', 'text-gray-600');
            const locationTitle = document.createElement('li');
            locationTitle.classList.add('font-medium', 'text-gray-800');
            locationTitle.textContent = 'Location:';
            locationList.appendChild(locationTitle);
            if (profileData["demographics-location"] && profileData["demographics-location"].length > 0) {
                profileData["demographics-location"].forEach(item => {
                    const li = document.createElement('li');
                    li.textContent = item;
                    locationList.appendChild(li);
                });
            } else {
                const li = document.createElement('li');
                li.classList.add('italic', 'text-gray-400');
                li.textContent = 'No data entered.';
                locationList.appendChild(li);
            }
            demoSectionDiv.appendChild(locationList);
            outputDiv.appendChild(demoSectionDiv);

            // Other sections
            createSection('What do they like to do?', profileData.lifestyle, icons.lifestyle);
            createSection('What problems are they facing?', profileData["pain-points"], icons.painPoints);
            createSection('What do they hope to achieve?', profileData.goals, icons.goals);
            createSection('Where can you reach them?', profileData["info-sources"], icons.infoSources);

            document.getElementById('generated-profile').classList.remove('hidden');
            window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
        };

        const saveProfile = () => {
            const statusDiv = document.getElementById('status-message');
            const finalProfile = document.getElementById('profile-output').innerHTML.trim();
            const textToSave = document.getElementById('profile-output').innerText.trim();


            if (!textToSave) {
                statusDiv.textContent = 'Please generate a profile to save.';
                statusDiv.className = 'text-center mt-4 text-red-500';
                return;
            }

            try {
                localStorage.setItem('savedTargetProfile', textToSave);
                statusDiv.textContent = 'Your profile has been saved successfully!';
                statusDiv.className = 'text-center mt-4 text-green-500';
                loadSavedProfile();
            } catch (error) {
                console.error("Error saving profile:", error);
                statusDiv.textContent = 'There was an error saving your profile.';
                statusDiv.className = 'text-center mt-4 text-red-500';
            }
        };

        const loadSavedProfile = () => {
            const savedProfile = localStorage.getItem('savedTargetProfile');
            const savedSection = document.getElementById('saved-profile-section');
            const savedText = document.getElementById('saved-profile-text');

            if (savedProfile) {
                savedText.textContent = savedProfile;
                savedSection.classList.remove('hidden');
            } else {
                savedSection.classList.add('hidden');
            }
        };

        const clearSavedProfile = () => {
            localStorage.removeItem('savedTargetProfile');
            loadSavedProfile();
            document.getElementById('status-message').textContent = 'Saved profile cleared.';
            document.getElementById('status-message').className = 'text-center mt-4 text-gray-500';
        };

        window.onload = () => {
            loadSavedProfile();
        };

        window.toggleDemographicItem = toggleDemographicItem;
        window.toggleOtherInput = toggleOtherInput;
        window.handleInput = handleInput;
        window.removeItem = removeItem;
        window.generateProfile = generateProfile;
        window.saveProfile = saveProfile;
        window.clearSavedProfile = clearSavedProfile;
        window.getIdeas = getIdeas;
    </script>
</body>
</html>

